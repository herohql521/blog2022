(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{513:function(e,t,n){},536:function(e,t,n){"use strict";var i=n(513);n.n(i).a},555:function(e,t,n){"use strict";n.r(t);n(48),n(100),n(164),n(159);var i={name:"",data:function(){return{key:"",active:!1,speechInstance:null,voiceData:[],dialogVisible:!1,contextWithoutCode:""}},props:{},components:{HeadphonesIcon:n(8).h},watch:{"$page.key":{handler:function(e,t){this.onCancle()},deep:!0}},mounted:function(){var e=this,t=setInterval((function(){e.voiceData.length?clearInterval(t):e.voiceData=e.getVoices()}),500);this.contextWithoutCode=this.$page.context.trim().replace(/`[\s\S]*?`/g,"代码部分省略")},methods:{read:function(){console.log(this.$page.context),this.active?this.onCancle():this.dialogVisible=!0},onSpeak:function(e){var t=this;this.speechInstance=new SpeechSynthesisUtterance,this.speechInstance.text=e||this.$page.context,speechSynthesis.speak(this.speechInstance),this.speechInstance.addEventListener("end",(function(e){t.active=!1,console.log(e.elapsedTime)}))},onCancle:function(){speechSynthesis.cancel()},onResume:function(){speechSynthesis.resume()},onPause:function(){speechSynthesis.pause()},getVoices:function(){return speechSynthesis.getVoices()},playWithCode:function(){this.active=!0,this.onSpeak(),this.dialogVisible=!1},playWithoutCode:function(){this.active=!0,this.onSpeak(this.contextWithoutCode),this.dialogVisible=!1},close:function(){console.log("close")}}},s=(n(536),n(11)),o=Object(s.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("headphones-icon",{staticClass:"custom-class icon",class:{active:e.active},attrs:{size:"1.5x"},on:{click:function(t){return e.read()}}}),e._v(" "),n("el-dialog",{attrs:{title:"是否需要朗读代码?",visible:e.dialogVisible,width:"25%","modal-append-to-body":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:function(t){return e.close()}}},[n("div",{staticClass:"btns"},[n("el-button",{on:{click:function(t){return e.playWithCode()}}},[e._v("需要")]),e._v(" "),n("el-button",{on:{click:function(t){return e.playWithoutCode()}}},[e._v("跳过代码")])],1)])],1)}),[],!1,null,"4d50cdd8",null);t.default=o.exports}}]);