<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>正则中的分组、前瞻和后顾 | Home</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="详细介绍正则表达式中的分组、前瞻和后顾">
    
    <link rel="preload" href="/blog2022/assets/css/0.styles.8a2e5221.css" as="style"><link rel="preload" href="/blog2022/assets/js/app.623e41db.js" as="script"><link rel="preload" href="/blog2022/assets/js/8.1f5a1c55.js" as="script"><link rel="preload" href="/blog2022/assets/js/11.37250134.js" as="script"><link rel="preload" href="/blog2022/assets/js/4.f2a44f11.js" as="script"><link rel="preload" href="/blog2022/assets/js/37.b11fdf8d.js" as="script"><link rel="prefetch" href="/blog2022/assets/js/1.6a0d5f9e.js"><link rel="prefetch" href="/blog2022/assets/js/10.ab5be33a.js"><link rel="prefetch" href="/blog2022/assets/js/12.2aa125bf.js"><link rel="prefetch" href="/blog2022/assets/js/13.fa0189a0.js"><link rel="prefetch" href="/blog2022/assets/js/14.652ca8b0.js"><link rel="prefetch" href="/blog2022/assets/js/15.fc6b41f2.js"><link rel="prefetch" href="/blog2022/assets/js/16.3a5d9394.js"><link rel="prefetch" href="/blog2022/assets/js/17.4156ca5f.js"><link rel="prefetch" href="/blog2022/assets/js/18.c7c876e9.js"><link rel="prefetch" href="/blog2022/assets/js/19.a28e1293.js"><link rel="prefetch" href="/blog2022/assets/js/20.f78198ca.js"><link rel="prefetch" href="/blog2022/assets/js/21.3cbf33e2.js"><link rel="prefetch" href="/blog2022/assets/js/22.ae6ef13e.js"><link rel="prefetch" href="/blog2022/assets/js/23.5a301cdb.js"><link rel="prefetch" href="/blog2022/assets/js/24.622a212d.js"><link rel="prefetch" href="/blog2022/assets/js/25.0d3e31cf.js"><link rel="prefetch" href="/blog2022/assets/js/26.f98d17e9.js"><link rel="prefetch" href="/blog2022/assets/js/27.88bc2c2f.js"><link rel="prefetch" href="/blog2022/assets/js/28.ad55a9af.js"><link rel="prefetch" href="/blog2022/assets/js/29.932f360c.js"><link rel="prefetch" href="/blog2022/assets/js/30.886c7c1d.js"><link rel="prefetch" href="/blog2022/assets/js/31.f4adeafc.js"><link rel="prefetch" href="/blog2022/assets/js/32.96a75b99.js"><link rel="prefetch" href="/blog2022/assets/js/33.94860aaa.js"><link rel="prefetch" href="/blog2022/assets/js/34.ea92116e.js"><link rel="prefetch" href="/blog2022/assets/js/35.ccb988d4.js"><link rel="prefetch" href="/blog2022/assets/js/36.96aa7bfb.js"><link rel="prefetch" href="/blog2022/assets/js/38.93a943a4.js"><link rel="prefetch" href="/blog2022/assets/js/5.8f1add8d.js"><link rel="prefetch" href="/blog2022/assets/js/6.3d2cea47.js"><link rel="prefetch" href="/blog2022/assets/js/7.5e3089cc.js"><link rel="prefetch" href="/blog2022/assets/js/9.68f228d8.js"><link rel="prefetch" href="/blog2022/assets/js/vuejs-paginate.594107eb.js">
    <link rel="stylesheet" href="/blog2022/assets/css/0.styles.8a2e5221.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/blog2022/" title="Home" class="home-link router-link-active">00:00, China</a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/blog2022/posts/" class="nav-link router-link-active">Posts</a></li><li class="nav-item"><a href="/blog2022/tag/" class="nav-link">Tag</a></li></ul> <div class="theme-change"><span class="svg-img"></span></div> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/blog2022/" class="nav-link mobile-home-link">Home </a> <div style="margin-left:auto;margin-right:15px;" data-v-4d50cdd8><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" size="1.5x" class="custom-class icon feather feather-headphones" data-v-4d50cdd8 data-v-4d50cdd8><path d="M3 18v-6a9 9 0 0 1 18 0v6" data-v-4d50cdd8 data-v-4d50cdd8></path><path d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z" data-v-4d50cdd8 data-v-4d50cdd8></path></svg> <div class="el-dialog__wrapper" style="display:none;" data-v-4d50cdd8><div role="dialog" aria-modal="true" aria-label="是否需要朗读代码?" class="el-dialog" style="margin-top:15vh;width:25%;"><div class="el-dialog__header"><span class="el-dialog__title">是否需要朗读代码?</span><button type="button" aria-label="Close" class="el-dialog__headerbtn"><i class="el-dialog__close el-icon el-icon-close"></i></button></div><!----><!----></div></div></div> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/blog2022/posts/" class="nav-link router-link-active">Posts</a></li><li class="mobile-nav-item"><a href="/blog2022/tag/" class="nav-link">Tag</a></li> <li class="mobile-nav-item"><!----></li></ul></div></div></div> <div class="content-wrapper"><div id="vuepress-theme-blog__post-layout"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content"><header><h1 itemprop="name headline" class="post-title">
        正则中的分组、前瞻和后顾
      </h1> <div class="post-meta"><!----> <div class="post-meta-date">
   发表于 
    <time pubdate itemprop="datePublished" datetime="2024-01-15T00:00:00.000Z">
      2024 年 01 月 15 日
    </time></div> <ul itemprop="keywords" class="post-meta-tags"><li class="post-tag" data-v-54f3474f><a href="/blog2022/tag/javascript" data-v-54f3474f>
    #javascript
  </a></li><li class="post-tag" data-v-54f3474f><a href="/blog2022/tag/正则表达式" data-v-54f3474f>
    #正则表达式
  </a></li></ul></div></header> <div itemprop="articleBody" class="content__default"><h2 id="正则基础"><a href="#正则基础" class="header-anchor">#</a> 正则基础</h2> <h3 id="元字符和表达式"><a href="#元字符和表达式" class="header-anchor">#</a> 元字符和表达式</h3> <table><thead><tr><th>表达式</th> <th>说明</th></tr></thead> <tbody><tr><td>\d</td> <td>匹配任意一个数字</td></tr> <tr><td>\w</td> <td>匹配任意一个字母、数字或下划线</td></tr> <tr><td>\s</td> <td>匹配任意一个空白字符（空格、制表符、换行符等）</td></tr> <tr><td>.</td> <td>匹配除换行符以外的任意一个字符</td></tr> <tr><td>[abc]</td> <td>匹配字符集合中的任意一个字符（a、b或c）</td></tr> <tr><td>[^abc]</td> <td>匹配除字符集合中的任意一个字符以外的字符</td></tr> <tr><td>\b</td> <td>匹配单词的边界</td></tr></tbody></table> <h3 id="量词"><a href="#量词" class="header-anchor">#</a> 量词</h3> <table><thead><tr><th>表达式</th> <th>说明</th></tr></thead> <tbody><tr><td>*</td> <td>匹配前面的元素零次或多次</td></tr> <tr><td>+</td> <td>匹配前面的元素一次或多次</td></tr> <tr><td>?</td> <td>匹配前面的元素零次或一次</td></tr> <tr><td>{n}</td> <td>匹配前面的元素恰好 n 次</td></tr> <tr><td>{n,}</td> <td>匹配前面的元素至少 n 次</td></tr> <tr><td>{n,m}</td> <td>匹配前面的元素至少 n 次，但不超过 m 次</td></tr></tbody></table> <h3 id="执行方法"><a href="#执行方法" class="header-anchor">#</a> 执行方法</h3> <ul><li>test()：测试字符串是否匹配模式，返回布尔值。</li> <li>exec()：在字符串中执行匹配，返回匹配结果的详细信息。</li> <li>match()：在字符串中查找匹配，返回匹配结果的数组。</li> <li>search()：在字符串中搜索匹配，返回匹配的位置。</li> <li>replace()：替换字符串中的匹配项。</li> <li>split()：根据匹配项将字符串拆分为数组。</li></ul> <h2 id="分组"><a href="#分组" class="header-anchor">#</a> 分组</h2> <p>通过使用括号将需要分组的内容括起来，我们可以创建一个分组，可以用于匹配、替换和提取信息</p> <h3 id="_1-基本分组语法"><a href="#_1-基本分组语法" class="header-anchor">#</a> 1.基本分组语法</h3> <p>使用小括号 () 来创建一个分组。分组可以包含一个或多个字符，用于表示一个特定的模式。例如，(abc) 表示一个由字符 &quot;abc&quot; 组成的模式。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&quot;I love cats and dogs&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(love cats)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出：&quot;love cats&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出：&quot;love cats&quot;</span>
</code></pre></div><h3 id="_2-捕获分组"><a href="#_2-捕获分组" class="header-anchor">#</a> 2.捕获分组</h3> <p>它允许我们在匹配过程中获取分组的值，并进行后续的处理。捕获组可以通过索引或命名来引用。</p> <h4 id="示例一-在一段字符串中取出其中的电子邮件地址"><a href="#示例一-在一段字符串中取出其中的电子邮件地址" class="header-anchor">#</a> 示例一：在一段字符串中取出其中的电子邮件地址</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&quot;My email address is john@example.com&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\w+@\w+\.\w+)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出：&quot;john@example.com&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出：&quot;john@example.com&quot;</span>
</code></pre></div><p>使用 (\w+@\w+.\w+) 创建了一个分组，它匹配了电子邮件地址，并将其作为捕获组返回。</p> <h4 id="示例二-在一段字符串中匹配并提取出其中的电话号码"><a href="#示例二-在一段字符串中匹配并提取出其中的电话号码" class="header-anchor">#</a> 示例二：在一段字符串中匹配并提取出其中的电话号码</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&quot;My phone number is (123) 456-7890&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\((\d{3})\)\s(\d{3})-(\d{4})</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出：&quot;(123) 456-7890&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出：&quot;123&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出：&quot;456&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出：&quot;7890&quot;</span>
</code></pre></div><p>在上述示例中，使用 ((\d{3}))\s(\d{3})-(\d{4}) 创建了三个分组，分别匹配了电话号码的区号、前三位和后四位，并将它们作为捕获组返回。</p> <h4 id="示例三-搭配replace使用"><a href="#示例三-搭配replace使用" class="header-anchor">#</a> 示例三：搭配replace使用</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&quot;aaa,bbb,ccc&quot;</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\w+),(\w+),(\w+)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&quot;$3,$2,$1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//输出'ccc,bbb,aaa'</span>
</code></pre></div><ul><li>$1代表第一个(\w+)匹配到的内容，即aaa</li> <li>$2代表第一个(\w+)匹配到的内容，即bbb</li> <li>$3代表第一个(\w+)匹配到的内容，即ccc</li></ul> <h3 id="_3-非捕获分组"><a href="#_3-非捕获分组" class="header-anchor">#</a> 3.非捕获分组</h3> <p>非捕获分组的语法是(?:pattern), 不影响正常匹配行为但是不作为结果返回。</p> <h4 id="示例一"><a href="#示例一" class="header-anchor">#</a> 示例一：</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&quot;My phone number is (123) 456-7890&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(phone)</span><span class="token regex-delimiter">/</span></span>
<span class="token keyword">const</span> pattern2 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?:phone)</span><span class="token regex-delimiter">/</span></span>
<span class="token keyword">const</span> result <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result2 <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>pattern2<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> result2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// phone , phone</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> result2<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// phone , undefined</span>
</code></pre></div><h4 id="示例二-匹配域名"><a href="#示例二-匹配域名" class="header-anchor">#</a> 示例二：匹配域名</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&quot;https://www.doorverse.com?v=123&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?:http|https):\/\/(?:[a-z]+\.)+(?:[a-z]+)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出：&quot;https://www.doorverse.com&quot;</span>
</code></pre></div><p>在这个例子中，正则表达式尝试匹配以 &quot;http://&quot; 或 &quot;https://&quot; 开头的 URL，但并不需要捕获这些前缀。因此，这些前缀被放在了一个非捕获分组中。</p> <h3 id="_4-反向引用分组"><a href="#_4-反向引用分组" class="header-anchor">#</a> 4.反向引用分组</h3> <p>反向引用使用 \数字 的形式，其中数字表示先前捕获的分组的索引。当使用反向引用时，正则表达式引擎会尝试匹配与先前捕获的内容相同的内容。</p> <h4 id="示例一-匹配连续重复的字符"><a href="#示例一-匹配连续重复的字符" class="header-anchor">#</a> 示例一：匹配连续重复的字符</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&quot;abab&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\w+)\1</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出：&quot;abab&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出：&quot;ab&quot;</span>
</code></pre></div><p>在上述示例中，使用 (\w)\1 创建了一个分组，并使用 \1 后向引用来引用先前捕获的字符，从而匹配连续重复的字符。</p> <h4 id="示例二-匹配类型为abab的数字"><a href="#示例二-匹配类型为abab的数字" class="header-anchor">#</a> 示例二：匹配类型为abab的数字</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'ooo1212ooo2323ooo3434ooo1234'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\d)(\d)\1\2</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['1212', '2323', '3434']</span>
</code></pre></div><p>在上述示例中，所定义的reg是， \d匹配数字，\1对应的是第一个表达式(\d)，\2对应的是第二个表达式(\d)，g是全局匹配</p> <h2 id="前瞻"><a href="#前瞻" class="header-anchor">#</a> 前瞻</h2> <p>前瞻是指在匹配过程中，我们可以在当前位置向前查看，以确定是否满足某种条件</p> <h3 id="正向前瞻"><a href="#正向前瞻" class="header-anchor">#</a> 正向前瞻</h3> <p>语法 <code>?=</code> 它会在当前位置向前查找</p> <h4 id="示例一-匹配邮箱地址中的用户名"><a href="#示例一-匹配邮箱地址中的用户名" class="header-anchor">#</a> 示例一：匹配邮箱地址中的用户名</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> emails <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'john@example.com'</span><span class="token punctuation">,</span> <span class="token string">'jane.doe@example.com'</span><span class="token punctuation">,</span> <span class="token string">'foo@bar.com'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> usernameRegex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\w+(?=@)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

emails<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">email</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> match <span class="token operator">=</span> email<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>usernameRegex<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>match<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// john</span>
<span class="token comment">// jane.doe</span>
<span class="token comment">// foo</span>
</code></pre></div><p>在这个例子中，我们使用了正向前瞻(?=@)来匹配@符号之前的内容。\w+表示匹配一个或多个字母、数字或下划线，(?=@)表示要求在当前位置向前查找，必须紧跟着@符号。</p> <h4 id="示例二-匹配包含特定单词的句子"><a href="#示例二-匹配包含特定单词的句子" class="header-anchor">#</a> 示例二：匹配包含特定单词的句子</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> text <span class="token operator">=</span> <span class="token string">'I love JavaScript. JavaScript is amazing. Python is also great.'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> word <span class="token operator">=</span> <span class="token string">'JavaScript'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> sentenceRegex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[^.?!]*(?=\bJavaScript\b)[^.?!]*[.?!]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>

<span class="token keyword">const</span> matches <span class="token operator">=</span> text<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>sentenceRegex<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>运行上述代码，我们可以得到以下输出：</p> <div class="language- extra-class"><pre class="language-text"><code>[ 'I love JavaScript.', ' JavaScript is amazing.' ]
</code></pre></div><p>在这个例子中，我们使用了正向前瞻(?=\bJavaScript\b)来匹配包含特定单词JavaScript的句子。[^.?!]<em>表示匹配任意数量的非句子结束符（句号、问号、感叹号）的字符，\bJavaScript\b表示匹配单词JavaScript，[^.?!]</em>[.?!]表示匹配任意数量的非句子结束符后跟一个句子结束符的字符。</p> <h4 id="示例三-匹配密码强度"><a href="#示例三-匹配密码强度" class="header-anchor">#</a> 示例三：匹配密码强度</h4> <p>假设我们要验证用户输入的密码强度，要求密码必须包含至少8位至少一个大写字母、一个小写字母和一个数字。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> passwords <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'password123'</span><span class="token punctuation">,</span> <span class="token string">'Pass123'</span><span class="token punctuation">,</span> <span class="token string">'passWORD'</span><span class="token punctuation">,</span> <span class="token string">'123456'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> passwordRegex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

passwords<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">password</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> isValid <span class="token operator">=</span> passwordRegex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>password<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>isValid<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>运行上述代码，我们可以得到以下输出：</p> <div class="language- extra-class"><pre class="language-text"><code>password123: false
Pass123: false
passWORD: false
123456: false
</code></pre></div><p>在这个例子中，我们使用了正向前瞻(?=.<em>[a-z])、(?=.</em>[A-Z])和(?=.*\d)来分别匹配至少一个小写字母、一个大写字母和一个数字。.{8,}表示匹配至少8个字符。^和$分别表示匹配字符串的开头和结尾，<code>.</code>表示任何一个字符（不包括换行），<code>*</code>表示前一个字符可以出现零次或多次。</p> <h3 id="负向前瞻"><a href="#负向前瞻" class="header-anchor">#</a> 负向前瞻</h3> <p>语法 <code>?!</code> 它会在当前位置向前查找, 例如，<code>q(?!u)</code> 匹配含有后面不是 'u' 的 'q' 的字符串</p> <h4 id="示例一-匹配不以-abc-开头的字符串"><a href="#示例一-匹配不以-abc-开头的字符串" class="header-anchor">#</a> 示例一：匹配不以 &quot;abc&quot; 开头的字符串</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(?!abc).*</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;def&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;abcxyz&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre></div><h4 id="示例二-匹配不以特定字符结尾的字符串"><a href="#示例二-匹配不以特定字符结尾的字符串" class="header-anchor">#</a> 示例二：匹配不以特定字符结尾的字符串</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(?!.*[x|y|z]$).*</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;defx&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre></div><h4 id="示例三-匹配不包含特定字符的字符串"><a href="#示例三-匹配不包含特定字符的字符串" class="header-anchor">#</a> 示例三：匹配不包含特定字符的字符串</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(?!.*[x|y|z]).*</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;abc123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;abcx&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre></div><h2 id="后顾"><a href="#后顾" class="header-anchor">#</a> 后顾</h2> <p>后顾是指在匹配过程中，我们可以在当前位置向后查看，用来捕获后半段</p> <h3 id="正向后顾"><a href="#正向后顾" class="header-anchor">#</a> 正向后顾</h3> <p>正向后顾语法结构是 <code>?&lt;=</code>，表示匹配位置前面的内容必须满足指定的模式。</p> <h4 id="示例一-匹配-1-后面的所有-a"><a href="#示例一-匹配-1-后面的所有-a" class="header-anchor">#</a> 示例一：匹配 &quot;1&quot; 后面的所有 &quot;a&quot;,</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&quot;1a2a3a4a&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;=1)a</span><span class="token regex-delimiter">/</span></span>
<span class="token keyword">const</span> matches <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出: ['a']</span>
</code></pre></div><p>这个正则表达式将只匹配第一个 &quot;a&quot;，因为它紧跟在 &quot;1&quot; 的后面。</p> <p>需要注意的是，正则表达式的查找模式在正向后顾中不会被包括在匹配结果中。也就是说，即使 &quot;1&quot; 是我们用来查找 &quot;a&quot; 的模式，&quot;1&quot; 不会被包括在匹配结果中。只有 &quot;a&quot; 会被返回作为匹配结果。</p> <h4 id="示例二-匹配以特定前缀开头的url"><a href="#示例二-匹配以特定前缀开头的url" class="header-anchor">#</a> 示例二：匹配以特定前缀开头的URL</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&quot;Visit our website at https://example.com to learn more.&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;=https:\/\/)\w+\.\w+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> matches <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 匹配了以 `https://` 开头的URL  输出: [&quot;example.com&quot;]</span>
</code></pre></div><h4 id="示例三-匹配某个位置之前的特定字符"><a href="#示例三-匹配某个位置之前的特定字符" class="header-anchor">#</a> 示例三：匹配某个位置之前的特定字符</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&quot;I love coding, but I hate debugging.&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;=love\s)\w+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> matches <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//匹配了位于 `love` 后面的单词  输出: [&quot;coding&quot;]</span>
</code></pre></div><h3 id="负向后顾"><a href="#负向后顾" class="header-anchor">#</a> 负向后顾</h3> <p>负向后顾语法结构是<code>?&lt;!</code>, 它会在当前位置向后查找, 例如，<code>(?&lt;!u)q</code> 匹配不是 'u' 开头的 'q'</p> <h4 id="匹配不是以123开头的abc"><a href="#匹配不是以123开头的abc" class="header-anchor">#</a> 匹配不是以123开头的abc</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;!123)abc</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;abc123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;123abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre></div></div> <footer><!----> <hr> <!----></footer></article> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#正则基础" title="正则基础">正则基础</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#元字符和表达式" title="元字符和表达式">元字符和表达式</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#量词" title="量词">量词</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#执行方法" title="执行方法">执行方法</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#分组" title="分组">分组</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_1-基本分组语法" title="1.基本分组语法">1.基本分组语法</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_2-捕获分组" title="2.捕获分组">2.捕获分组</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_3-非捕获分组" title="3.非捕获分组">3.非捕获分组</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_4-反向引用分组" title="4.反向引用分组">4.反向引用分组</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#前瞻" title="前瞻">前瞻</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#正向前瞻" title="正向前瞻">正向前瞻</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#负向前瞻" title="负向前瞻">负向前瞻</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#后顾" title="后顾">后顾</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#正向后顾" title="正向后顾">正向后顾</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#负向后顾" title="负向后顾">负向后顾</a></div></div></div></div></div><div class="global-ui"></div></div>
    <script src="/blog2022/assets/js/app.623e41db.js" defer></script><script src="/blog2022/assets/js/8.1f5a1c55.js" defer></script><script src="/blog2022/assets/js/11.37250134.js" defer></script><script src="/blog2022/assets/js/4.f2a44f11.js" defer></script><script src="/blog2022/assets/js/37.b11fdf8d.js" defer></script>
  </body>
</html>
